import type { MindcraftPower } from "../types";

export const MINDCRAFT_POWERS: MindcraftPower[] = [
    // ============================================================================
    // DISCIPLINE OF FLUX - Entropy & Energy
    // ============================================================================
    {
        id: "entropy-lash",
        name: "Entropy Lash",
        tier: 1,
        discipline: "Flux",
        afpCost: 1,
        range: "Melee",
        effect: "Melee spell attack: 1d8 necrotic + push 5 ft.",
        amplifiable: true,
    },
    {
        id: "aether-push",
        name: "Aether Push",
        tier: 2,
        discipline: "Flux",
        afpCost: 2,
        range: "10 ft",
        savingThrow: {
            ability: "strength",
            dc: 12,
        },
        effect: "10-ft force push; STR save or knocked prone.",
        amplifiable: true,
    },
    {
        id: "plasma-burst",
        name: "Plasma Burst",
        tier: 3,
        discipline: "Flux",
        afpCost: 3,
        range: "15-ft cone",
        savingThrow: {
            ability: "dexterity",
            dc: 13,
        },
        effect: "15-ft cone, 3d8 fire/force damage.",
        amplifiable: true,
    },
    {
        id: "kinetic-barrier",
        name: "Kinetic Barrier",
        tier: 4,
        discipline: "Flux",
        afpCost: 4,
        range: "10 ft",
        duration: "1 minute",
        concentration: true,
        effect: "Create 10-ft wall of telekinetic force for 1 minute.",
        amplifiable: true,
    },
    {
        id: "collapse-field",
        name: "Collapse Field",
        tier: 5,
        discipline: "Flux",
        afpCost: 5,
        range: "20-ft radius",
        savingThrow: {
            ability: "dexterity",
            dc: 15,
        },
        effect: "20-ft radius implosion (6d10 force, Dex save half).",
        amplifiable: true,
    },

    // ============================================================================
    // DISCIPLINE OF ECHO - Sound, Vibration, & Resonance
    // ============================================================================
    {
        id: "resonant-pulse",
        name: "Resonant Pulse",
        tier: 1,
        discipline: "Echo",
        afpCost: 1,
        range: "15-ft cone",
        savingThrow: {
            ability: "constitution",
            dc: 12,
        },
        effect: "15-ft cone, 1d8 thunder dmg; creatures lose reactions.",
        amplifiable: true,
    },
    {
        id: "echo-step",
        name: "Echo Step",
        tier: 2,
        discipline: "Echo",
        afpCost: 2,
        range: "15 ft",
        effect: "Teleport up to 15 ft as bonus action.",
        amplifiable: true,
    },
    {
        id: "dissonant-strike",
        name: "Dissonant Strike",
        tier: 3,
        discipline: "Echo",
        afpCost: 3,
        range: "Melee",
        effect: "Add 2d8 thunder to melee hit; next attack vs target has advantage.",
        amplifiable: true,
    },
    {
        id: "waveform-shatter",
        name: "Waveform Shatter",
        tier: 4,
        discipline: "Echo",
        afpCost: 4,
        range: "10-ft radius",
        savingThrow: {
            ability: "constitution",
            dc: 14,
        },
        effect: "Break crystal, glass, or armor (2d10 thunder, 10-ft radius).",
        amplifiable: true,
    },
    {
        id: "harmonic-collapse",
        name: "Harmonic Collapse",
        tier: 5,
        discipline: "Echo",
        afpCost: 5,
        range: "30-ft sphere",
        savingThrow: {
            ability: "constitution",
            dc: 15,
        },
        effect: "Create a resonance storm; 30-ft sphere deals 5d10 thunder + deafened.",
        amplifiable: true,
    },

    // ============================================================================
    // DISCIPLINE OF EIDOLON - Soul Projection & Manifestation
    // ============================================================================
    {
        id: "spectral-hand",
        name: "Spectral Hand",
        tier: 1,
        discipline: "Eidolon",
        afpCost: 1,
        range: "30 ft",
        duration: "1 minute",
        concentration: true,
        effect: "Create spectral appendage for manipulation within 30 ft.",
        amplifiable: true,
    },
    {
        id: "soul-anchor",
        name: "Soul Anchor",
        tier: 2,
        discipline: "Eidolon",
        afpCost: 2,
        range: "Touch",
        effect: "Transfer 1d8 HP to an ally (or pull 1d8 HP from self).",
        amplifiable: true,
    },
    {
        id: "astral-shard",
        name: "Astral Shard",
        tier: 3,
        discipline: "Eidolon",
        afpCost: 3,
        range: "30 ft",
        duration: "1 minute",
        concentration: true,
        effect: "Create a duplicate (HP 10 + Int mod) that mimics your attacks.",
        amplifiable: true,
    },
    {
        id: "phantom-strike",
        name: "Phantom Strike",
        tier: 4,
        discipline: "Eidolon",
        afpCost: 4,
        range: "60 ft",
        effect: "Attack through walls or cover (ignore half and three-quarters cover).",
        amplifiable: true,
    },
    {
        id: "reunion-of-thought",
        name: "Reunion of Thought",
        tier: 5,
        discipline: "Eidolon",
        afpCost: 5,
        range: "Touch",
        duration: "1 minute",
        concentration: true,
        effect: "Merge your soul with another's; share HP and senses for 1 min.",
        amplifiable: true,
    },

    // ============================================================================
    // DISCIPLINE OF EMPYRIC - Emotion, Mind, & Memory
    // ============================================================================
    {
        id: "empathic-link",
        name: "Empathic Link",
        tier: 1,
        discipline: "Empyric",
        afpCost: 1,
        range: "30 ft",
        duration: "1 minute",
        effect: "Telepathically communicate emotion with 1 creature (1 min).",
        amplifiable: true,
    },
    {
        id: "mind-dull",
        name: "Mind Dull",
        tier: 2,
        discipline: "Empyric",
        afpCost: 2,
        range: "30 ft",
        duration: "1 minute",
        savingThrow: {
            ability: "wisdom",
            dc: 12,
        },
        effect: "Target has disadvantage on INT and WIS checks for 1 min.",
        amplifiable: true,
    },
    {
        id: "calm-hostility",
        name: "Calm Hostility",
        tier: 3,
        discipline: "Empyric",
        afpCost: 3,
        range: "20-ft radius",
        duration: "1 minute",
        savingThrow: {
            ability: "wisdom",
            dc: 13,
        },
        effect: "Suppress hostility in 20-ft radius (WIS save negates).",
        amplifiable: true,
    },
    {
        id: "reunion-of-thought",
        name: "Memory Echo",
        tier: 4,
        discipline: "Empyric",
        afpCost: 4,
        range: "Touch",
        effect: "See a 10-second vision of an object's last owner.",
        amplifiable: true,
    },
    {
        id: "mind-link",
        name: "Mass Link",
        tier: 5,
        discipline: "Empyric",
        afpCost: 5,
        range: "60 ft",
        duration: "1 hour",
        concentration: true,
        effect: "Form telepathic bond with up to 6 creatures for 1 hour.",
        amplifiable: true,
    },

    // ============================================================================
    // DISCIPLINE OF VEIL - Illusion, Concealment, & Deception
    // ============================================================================
    {
        id: "veil-touch",
        name: "Veil Touch",
        tier: 1,
        discipline: "Veil",
        afpCost: 1,
        range: "Touch",
        duration: "1 minute",
        effect: "Alter minor sensory details (color, sound, scent).",
        amplifiable: true,
    },
    {
        id: "phase-blur",
        name: "Phase Blur",
        tier: 2,
        discipline: "Veil",
        afpCost: 2,
        range: "Self",
        duration: "1 turn",
        effect: "Disadvantage on attacks against you until next turn.",
        amplifiable: true,
    },
    {
        id: "mirate-step",
        name: "Mirage Step",
        tier: 3,
        discipline: "Veil",
        afpCost: 3,
        range: "Self",
        duration: "1 minute",
        concentration: true,
        effect: "Create illusionary duplicate for 1 min (mirror image effect).",
        amplifiable: true,
    },
    {
        id: "aether-veil",
        name: "Aether Veil",
        tier: 4,
        discipline: "Veil",
        afpCost: 4,
        range: "10-ft radius",
        duration: "10 minutes",
        concentration: true,
        effect: "Invisible 10-ft radius sphere; creatures inside gain advantage on Stealth.",
        amplifiable: true,
    },
    {
        id: "false-horizon",
        name: "False Horizon",
        tier: 5,
        discipline: "Veil",
        afpCost: 5,
        range: "120 ft",
        duration: "10 minutes",
        concentration: true,
        savingThrow: {
            ability: "wisdom",
            dc: 16,
        },
        effect: "Create vast illusory landscape; DC 16 Insight to disbelieve.",
        amplifiable: true,
    },

    // ============================================================================
    // DISCIPLINE OF KINESIS - Telekinetic Force & Motion
    // ============================================================================
    {
        id: "telekinetic-grip",
        name: "Telekinetic Grip",
        tier: 1,
        discipline: "Kinesis",
        afpCost: 1,
        range: "30 ft",
        duration: "1 minute",
        concentration: true,
        effect: "Move 1 small object within 30 ft.",
        amplifiable: true,
    },
    {
        id: "force-pull",
        name: "Force Pull",
        tier: 2,
        discipline: "Kinesis",
        afpCost: 2,
        range: "30 ft",
        savingThrow: {
            ability: "strength",
            dc: 12,
        },
        effect: "Pull one creature or object 10 ft (STR save resists).",
        amplifiable: true,
    },
    {
        id: "levitate-self",
        name: "Levitate Self",
        tier: 3,
        discipline: "Kinesis",
        afpCost: 3,
        range: "Self",
        duration: "10 minutes",
        concentration: true,
        effect: "Float 20 ft for up to 10 minutes.",
        amplifiable: true,
    },
    {
        id: "crush-field",
        name: "Crush Field",
        tier: 4,
        discipline: "Kinesis",
        afpCost: 4,
        range: "15-ft cube",
        duration: "1 minute",
        concentration: true,
        savingThrow: {
            ability: "strength",
            dc: 14,
        },
        effect: "15-ft cube, 3d8 force damage, restrained on failed STR save.",
        amplifiable: true,
    },
    {
        id: "mass-lift",
        name: "Mass Lift",
        tier: 5,
        discipline: "Kinesis",
        afpCost: 5,
        range: "20-ft radius",
        duration: "1 minute",
        concentration: true,
        effect: "Levitate all objects/creatures within 20 ft (Concentration 1 min).",
        amplifiable: true,
    },
];

export const MINDCRAFT_POWERS_LOOKUP: Record<string, MindcraftPower> = MINDCRAFT_POWERS.reduce(
    (acc, power) => {
        acc[power.id] = power;
        return acc;
    },
    {} as Record<string, MindcraftPower>
);
