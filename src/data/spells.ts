import type { Spell } from "../types";

// ============================================================================
// ARCANIST FORMULAE - Aetheric equations and mechanical spellcraft
// ============================================================================
export const FORMULAE: Spell[] = [
    // Level 1 Formulae
    {
        name: "Magic Missile",
        hollowgearName: "Arc Pulse Array",
        level: 1,
        school: "Evocation",
        type: "Automatic Hit",
        castingTime: "1 action",
        range: "120 feet",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 1,
        description:
            "You release three bolts of condensed plasma, each striking a target for 1d4 + 1 force damage. The bolts automatically hit, appearing as glowing blue-white threads of Aether.",
        higherLevels: "+1 bolt per spell level above 1.",
    },
    {
        name: "Shield",
        hollowgearName: "Deflection Field",
        level: 1,
        school: "Abjuration",
        type: "Utility",
        castingTime: "1 reaction (when hit by an attack)",
        range: "Self",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "1 round",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 1,
        description:
            "An electromagnetic barrier flares into being, adding +5 AC until the start of your next turn, including against the triggering attack. Visible as a flickering lattice of hexagonal light.",
        higherLevels: "None.",
    },
    {
        name: "Burning Hands",
        hollowgearName: "Arcane Vent",
        level: 1,
        school: "Evocation",
        type: "Save",
        castingTime: "1 action",
        range: "Self (15-foot cone)",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 2,
        description:
            "You open a pressure valve in your gauntlet or staff, releasing flame and vapor. Creatures in the area make a Dex save (DC = 8 + proficiency + INT) or take 3d6 fire damage, half on success.",
        higherLevels: "+1d6 damage per spell level above 1.",
    },
    {
        name: "Misty Step",
        hollowgearName: "Blink Discharge",
        level: 2,
        school: "Conjuration",
        type: "Utility",
        castingTime: "1 bonus action",
        range: "Self",
        components: {
            verbal: true,
            somatic: false,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 2,
        overclockable: true,
        heatGenerated: 1,
        description:
            "You briefly convert yourself into raw Aether and re-materialize elsewhere within 30 feet in a blink of static and light. You leave behind a faint harmonic echo audible to psionically aware creatures.",
        higherLevels: "None.",
    },

    // Level 2 Formulae
    {
        name: "Counterspell",
        hollowgearName: "Logic Override",
        level: 3,
        school: "Abjuration",
        type: "Save",
        castingTime: "1 reaction (when you see a creature casting a spell)",
        range: "60 feet",
        components: {
            verbal: false,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 3,
        overclockable: true,
        heatGenerated: 1,
        description:
            "Interrupt the casting of another spell within 60 ft by introducing conflicting psionic frequencies. If the spell is 3rd level or lower, it fails. For higher levels, roll INT + proficiency vs DC 10 + spell level.",
        higherLevels:
            "The interrupted spell has no effect if its level is less than or equal to the level of the spell slot you used.",
    },
    {
        name: "Scorching Ray",
        hollowgearName: "Thermoflux Lance",
        level: 2,
        school: "Evocation",
        type: "Attack",
        castingTime: "1 action",
        range: "120 feet",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 2,
        overclockable: true,
        heatGenerated: 2,
        description:
            "Create three streaks of molten Aether energy. Make a ranged spell attack for each ray. Each ray deals 2d6 fire damage on a hit.",
        higherLevels: "+1 ray per spell level above 2.",
    },
    {
        name: "Hold Person",
        hollowgearName: "Aetheric Tether",
        level: 2,
        school: "Enchantment",
        type: "Save",
        castingTime: "1 action",
        range: "60 feet",
        components: {
            verbal: true,
            somatic: true,
            material: true,
            materials: "a small, straight piece of iron",
        },
        duration: "Concentration, up to 1 minute",
        concentration: true,
        aetherCost: 2,
        overclockable: true,
        heatGenerated: 1,
        description:
            "You bind a humanoid target in telekinetic threads. Target must succeed on a Wis save or be paralyzed until the end of your next turn. Each round, they may repeat the save at the end of their turn.",
        higherLevels: "+1 additional humanoid per spell level above 2.",
    },

    // Level 3 Formulae
    {
        name: "Fireball",
        hollowgearName: "Thermoflux Core Ignition",
        level: 3,
        school: "Evocation",
        type: "Save",
        castingTime: "1 action",
        range: "150 feet",
        components: {
            verbal: true,
            somatic: true,
            material: true,
            materials: "a tiny ball of bat guano and sulfur",
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 3,
        overclockable: true,
        heatGenerated: 3,
        description:
            "You hurl a charged Aether core that detonates into vaporized plasma in a 20-ft radius. Each creature in the area must make a Dex save or take 8d6 fire damage (half on success). All metal surfaces in the area glow red-hot for 1 round.",
        higherLevels: "+1d6 damage per spell level above 3.",
    },
    {
        name: "Dispel Magic",
        hollowgearName: "Pulse Disruptor",
        level: 3,
        school: "Abjuration",
        type: "Utility",
        castingTime: "1 action",
        range: "120 feet",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 3,
        overclockable: true,
        heatGenerated: 1,
        description:
            "Stabilize local psionic fields, ending a spell or effect of level 3 or lower. For higher-level effects, roll INT + proficiency vs DC 10 + spell level.",
        higherLevels:
            "You automatically end effects of a spell if the spell's level is equal to or less than the level of the spell slot you used.",
    },
    {
        name: "Leomund's Tiny Hut",
        hollowgearName: "Resonant Barrier",
        level: 3,
        school: "Evocation",
        type: "Utility",
        castingTime: "1 minute (ritual)",
        range: "Self (10-foot-radius hemisphere)",
        components: {
            verbal: true,
            somatic: true,
            material: true,
            materials: "a small crystal bead",
        },
        duration: "8 hours",
        concentration: false,
        aetherCost: 3,
        overclockable: false,
        heatGenerated: 0,
        description:
            "A 10-ft-radius shimmering dome forms around you and up to 8 creatures. The barrier equalizes pressure and heat, providing total cover and shelter for 8 hours. It hums softly in tune with your heartbeat.",
        higherLevels: "None.",
    },
];

// ============================================================================
// TEMPLAR MIRACLES - Resonant faith and psionic devotion
// ============================================================================
export const MIRACLES: Spell[] = [
    // Level 1 Miracles
    {
        name: "Cure Wounds",
        hollowgearName: "Pulse of Restoration",
        level: 1,
        school: "Evocation",
        type: "Heal",
        castingTime: "1 action",
        range: "Touch",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 0,
        description:
            "You emit a harmonic pulse through your hands, restoring 1d8 + Wisdom modifier hit points to a creature.",
        higherLevels: "+1d8 per spell level above 1.",
    },
    {
        name: "Bless",
        hollowgearName: "Harmonic Field",
        level: 1,
        school: "Enchantment",
        type: "Utility",
        castingTime: "1 action",
        range: "30 feet",
        components: {
            verbal: true,
            somatic: true,
            material: true,
            materials: "a sprinkling of holy water",
        },
        duration: "Concentration, up to 1 minute",
        concentration: true,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 0,
        description:
            "Three creatures of your choice resonate with your frequency. They add +1d4 to attack rolls and saving throws while within 30 ft of you.",
        higherLevels: "+1 additional creature per spell level above 1.",
    },
    {
        name: "Sanctuary",
        hollowgearName: "Echo Barrier",
        level: 1,
        school: "Abjuration",
        type: "Utility",
        castingTime: "1 bonus action",
        range: "30 feet",
        components: {
            verbal: true,
            somatic: true,
            material: true,
            materials: "a small silver mirror",
        },
        duration: "1 minute",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 0,
        description:
            "You surround a creature with a psionic field of deflection. Any creature attempting to attack must first make a Wis save (DC = 8 + prof + WIS); on failure, the attack is wasted.",
        higherLevels: "None.",
    },
    {
        name: "Inflict Wounds",
        hollowgearName: "Radiant Recoil",
        level: 1,
        school: "Necromancy",
        type: "Attack",
        castingTime: "1 action",
        range: "Touch",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 1,
        description:
            "You touch a creature, releasing stored Aether as destructive feedback. Target takes 3d10 radiant or necrotic damage (your choice).",
        higherLevels: "+1d10 per spell level above 1.",
    },

    // Level 2 Miracles
    {
        name: "Spiritual Weapon",
        hollowgearName: "Faith Construct",
        level: 2,
        school: "Evocation",
        type: "Attack",
        castingTime: "1 bonus action",
        range: "60 feet",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "1 minute",
        concentration: false,
        aetherCost: 2,
        overclockable: true,
        heatGenerated: 0,
        description:
            "Manifest a spectral hammer or sword of psionic light. It attacks as a bonus action, dealing 1d8 + Wis mod force or radiant damage. Lasts 1 minute and ignores physical barriers.",
        higherLevels: "+1d8 damage per 2 spell levels above 2.",
    },
    {
        name: "Detect Magic",
        hollowgearName: "Sense Resonance",
        level: 1,
        school: "Divination",
        type: "Utility",
        castingTime: "1 action",
        range: "Self",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Concentration, up to 10 minutes",
        concentration: true,
        aetherCost: 1,
        overclockable: false,
        heatGenerated: 0,
        description:
            "You perceive psionic and mechanical energies as color and sound. Learn the type and source of any Aetheric effect within 30 ft.",
        higherLevels: "None.",
    },
    {
        name: "Lesser Restoration",
        hollowgearName: "Harmonic Reprisal",
        level: 2,
        school: "Abjuration",
        type: "Utility",
        castingTime: "1 action",
        range: "Touch",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 2,
        overclockable: true,
        heatGenerated: 0,
        description:
            "Your resonance stabilizes another's frequency. Ends one disease, condition, or effect causing blindness, paralysis, or poison.",
        higherLevels: "None.",
    },

    // Level 3 Miracles
    {
        name: "Mass Healing Word",
        hollowgearName: "Divine Pulse",
        level: 3,
        school: "Evocation",
        type: "Heal",
        castingTime: "1 bonus action",
        range: "60 feet",
        components: {
            verbal: true,
            somatic: false,
            material: false,
        },
        duration: "Instantaneous",
        concentration: false,
        aetherCost: 3,
        overclockable: true,
        heatGenerated: 0,
        description:
            "Emit a low hum that restores 1d4 + Wis modifier hit points to up to six creatures of your choice.",
        higherLevels: "+1d4 per spell level above 3.",
    },
    {
        name: "Spirit Guardians",
        hollowgearName: "Resonant Core",
        level: 3,
        school: "Conjuration",
        type: "Save",
        castingTime: "1 action",
        range: "Self (15-foot radius)",
        components: {
            verbal: true,
            somatic: true,
            material: true,
            materials: "a holy symbol",
        },
        duration: "Concentration, up to 10 minutes",
        concentration: true,
        aetherCost: 3,
        overclockable: true,
        heatGenerated: 1,
        description:
            "You project your Resonance outward in a 15-ft aura of radiant psionic light. Creatures of your choice take 3d8 radiant or psychic damage when entering or starting their turn within range. Creatures make a Wis save for half damage.",
        higherLevels: "+1d8 damage per spell level above 3.",
    },
    {
        name: "Guiding Bolt",
        hollowgearName: "Judgment Beam",
        level: 1,
        school: "Evocation",
        type: "Attack",
        castingTime: "1 action",
        range: "120 feet",
        components: {
            verbal: true,
            somatic: true,
            material: false,
        },
        duration: "1 round",
        concentration: false,
        aetherCost: 1,
        overclockable: true,
        heatGenerated: 1,
        description:
            "You unleash a focused line of coherent Aether energy. Make a ranged spell attack; on hit, deal 4d6 radiant damage, and the next attack against that target has advantage.",
        higherLevels: "+1d6 damage per spell level above 1.",
    },
];

export const SPELLS_BY_NAME: Record<string, Spell> = [...FORMULAE, ...MIRACLES].reduce(
    (acc, spell) => {
        acc[spell.name] = spell;
        return acc;
    },
    {} as Record<string, Spell>
);
